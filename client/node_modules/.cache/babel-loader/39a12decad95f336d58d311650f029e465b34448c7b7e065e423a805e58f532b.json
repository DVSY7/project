{"ast":null,"code":"// client/src/componant/profile/miniprofile.js\nimport{useState,useEffect}from\"react\";import{checkedToken}from\"../function/checkedToken\";import{useLocation}from\"react-router-dom\";import{fetchMiniProfileInfo}from\"./api/MiniProfile\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Miniprofile(props){var _miniProfileUserInfo$,_miniProfileUserInfo$2,_miniProfileUserInfo$3,_miniProfileUserInfo$4,_miniProfileUserInfo$5,_miniProfileUserInfo$6,_miniProfileUserInfo$7,_miniProfileUserInfo$8;const{name,id,setProfileInfo,clickedBookmark}=props;// 플렉스 요소 센터 정렬\nconst flexCenter=\"justify-center items-center\";// 현재 url 정보\nconst location=useLocation();// 프로필의 유저이름 상태관리 스테이트\nconst[username,setUsername]=useState(name);const[userID,setUserID]=useState(id[0].id);// 프로필 유저정보\nconst[miniProfileUserInfo,setMiniProfileUserInfo]=useState([]);// 페이지의 url에 있는 정보를 가져오는 코드\nuseEffect(()=>{var _searchParams$get,_searchParams$get2;const searchParams=new URLSearchParams(location.search);const usernameFromQuery=(_searchParams$get=searchParams.get(\"username\"))!==null&&_searchParams$get!==void 0?_searchParams$get:username;const userIDFromQuery=(_searchParams$get2=searchParams.get(\"userID\"))!==null&&_searchParams$get2!==void 0?_searchParams$get2:userID;if(usernameFromQuery){setUsername(usernameFromQuery);setUserID(userIDFromQuery);setProfileInfo({name:usernameFromQuery,id:userIDFromQuery});}else{const getUsername=async()=>{await checkedToken(setUsername);};getUsername();}},[location.search,name,id]);// 디버그 코드\nuseEffect(()=>{if(username&&userID){const getMiniProfileInfo=async()=>{const res=await fetchMiniProfileInfo(userID);if(res){setMiniProfileUserInfo(res);}};getMiniProfileInfo();}},[username,userID,clickedBookmark]);console.log(miniProfileUserInfo);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col w-[80%] h-full`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex w-full h-[80%]`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col ${flexCenter} h-full w-[30%]`,children:[/*#__PURE__*/_jsx(\"img\",{src:`${(_miniProfileUserInfo$=(_miniProfileUserInfo$2=miniProfileUserInfo[0])===null||_miniProfileUserInfo$2===void 0?void 0:_miniProfileUserInfo$2.profile_image)!==null&&_miniProfileUserInfo$!==void 0?_miniProfileUserInfo$:\"images/미니프로필.png\"}`,alt:\"\\uBBF8\\uB2C8\\uD504\\uB85C\\uD544\",className:`w-[4.5rem] h-[4.5rem] rounded-[50%] mb-6 mt-2`}),/*#__PURE__*/_jsx(\"div\",{className:`flex ${flexCenter} h-6 w-16 mt-6 bg-blue-400 text-white text-[0.9rem] rounded-md`,children:\"\\uB2EC\\uC131\\uB960\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:`flex flex-col justify-evenly h-full w-[70%]`,children:[/*#__PURE__*/_jsx(\"div\",{className:`flex text-[1.5rem] font-sans font-bold`,children:username}),/*#__PURE__*/_jsxs(\"div\",{className:`text-[1.5rem] font-sans font-bold text-yellow-400`,children:[/*#__PURE__*/_jsx(\"span\",{className:`mb-2 inline-block`,children:\"\\u2605\\u2605\\u2605\\u2605\\u2605\"}),/*#__PURE__*/_jsx(\"span\",{className:`ml-4 text-black font-sans font-blod text-[1rem]`,children:\"4.99\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:`flex justify-start items-center`,children:[/*#__PURE__*/_jsx(\"div\",{className:`flex justify-between items-center w-32 h-4 bg-gray-300 rounded-lg`,children:/*#__PURE__*/_jsx(\"div\",{className:`w-[50%] h-full rounded-lg bg-green-500`})}),/*#__PURE__*/_jsx(\"div\",{className:`flex  font-sans font-bold ml-2`,children:\"50%\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`flex justify-start items-center font-sans w-full h-[20%]`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`ml-9`,children:[\"\\uB9AC\\uC2A4\\uD2B8\",/*#__PURE__*/_jsx(\"span\",{className:`mx-4`,children:(_miniProfileUserInfo$3=(_miniProfileUserInfo$4=miniProfileUserInfo[0])===null||_miniProfileUserInfo$4===void 0?void 0:_miniProfileUserInfo$4.list_count)!==null&&_miniProfileUserInfo$3!==void 0?_miniProfileUserInfo$3:0}),\"|\"]}),/*#__PURE__*/_jsxs(\"div\",{className:`ml-4`,children:[\"\\uAC8C\\uC2DC\\uAE00\",/*#__PURE__*/_jsx(\"span\",{className:`mx-4`,children:(_miniProfileUserInfo$5=(_miniProfileUserInfo$6=miniProfileUserInfo[0])===null||_miniProfileUserInfo$6===void 0?void 0:_miniProfileUserInfo$6.gallery_count)!==null&&_miniProfileUserInfo$5!==void 0?_miniProfileUserInfo$5:0}),\"|\"]}),/*#__PURE__*/_jsxs(\"div\",{className:`ml-4`,children:[\"\\uCC1C\",/*#__PURE__*/_jsx(\"span\",{className:`2xl:m-4 `,children:(_miniProfileUserInfo$7=(_miniProfileUserInfo$8=miniProfileUserInfo[0])===null||_miniProfileUserInfo$8===void 0?void 0:_miniProfileUserInfo$8.bookmark_count)!==null&&_miniProfileUserInfo$7!==void 0?_miniProfileUserInfo$7:0})]})]})]})});}","map":{"version":3,"names":["useState","useEffect","checkedToken","useLocation","fetchMiniProfileInfo","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Miniprofile","props","_miniProfileUserInfo$","_miniProfileUserInfo$2","_miniProfileUserInfo$3","_miniProfileUserInfo$4","_miniProfileUserInfo$5","_miniProfileUserInfo$6","_miniProfileUserInfo$7","_miniProfileUserInfo$8","name","id","setProfileInfo","clickedBookmark","flexCenter","location","username","setUsername","userID","setUserID","miniProfileUserInfo","setMiniProfileUserInfo","_searchParams$get","_searchParams$get2","searchParams","URLSearchParams","search","usernameFromQuery","get","userIDFromQuery","getUsername","getMiniProfileInfo","res","console","log","children","className","src","profile_image","alt","list_count","gallery_count","bookmark_count"],"sources":["C:/git/project/client/src/componant/profile/miniprofile.js"],"sourcesContent":["// client/src/componant/profile/miniprofile.js\r\nimport {useState, useEffect} from \"react\";\r\nimport { checkedToken } from \"../function/checkedToken\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { fetchMiniProfileInfo } from \"./api/MiniProfile\";\r\n\r\n\r\n\r\nexport default function Miniprofile(props) {\r\n\r\n    const {name, id, setProfileInfo, clickedBookmark} = props;\r\n\r\n    // 플렉스 요소 센터 정렬\r\n    const flexCenter = \"justify-center items-center\";\r\n\r\n    // 현재 url 정보\r\n    const location = useLocation();\r\n\r\n    // 프로필의 유저이름 상태관리 스테이트\r\n    const [username, setUsername] = useState(name);\r\n    const [userID, setUserID] = useState(id[0].id);\r\n\r\n    // 프로필 유저정보\r\n    const [miniProfileUserInfo, setMiniProfileUserInfo] = useState([]);\r\n\r\n    // 페이지의 url에 있는 정보를 가져오는 코드\r\n    useEffect(()=>{\r\n        const searchParams = new URLSearchParams(location.search);\r\n        const usernameFromQuery = searchParams.get(\"username\")?? username;\r\n        const userIDFromQuery = searchParams.get(\"userID\")?? userID;\r\n        if(usernameFromQuery){\r\n            setUsername(usernameFromQuery);\r\n            setUserID(userIDFromQuery);\r\n            setProfileInfo({name:usernameFromQuery,id:userIDFromQuery});\r\n        }else{\r\n            const getUsername = async ()=>{\r\n                await checkedToken(setUsername);\r\n            };\r\n           getUsername();\r\n        }\r\n    },[location.search,name,id]);\r\n\r\n    // 디버그 코드\r\n    useEffect(()=>{\r\n        if(username && userID){\r\n            const getMiniProfileInfo = async () =>{\r\n                const res = await fetchMiniProfileInfo(userID);\r\n                if(res){\r\n                    setMiniProfileUserInfo(res);\r\n                }\r\n            }\r\n            getMiniProfileInfo();\r\n        }\r\n    },[username,userID,clickedBookmark])\r\n\r\n    console.log(miniProfileUserInfo);\r\n\r\n    return (\r\n        <>\r\n            <div className={`flex flex-col w-[80%] h-full`}>\r\n                <div className={`flex w-full h-[80%]`}>\r\n                    {/* 프로필/달성률 */}\r\n                    <div className={`flex flex-col ${flexCenter} h-full w-[30%]`}>\r\n                        <img src={`${miniProfileUserInfo[0]?.profile_image??\"images/미니프로필.png\"}`} alt=\"미니프로필\" className={`w-[4.5rem] h-[4.5rem] rounded-[50%] mb-6 mt-2`}></img>\r\n                        <div className={`flex ${flexCenter} h-6 w-16 mt-6 bg-blue-400 text-white text-[0.9rem] rounded-md`}>달성률</div>\r\n                    </div>\r\n                    {/* 닉네임/별점/퍼센트 */}\r\n                    <div className={`flex flex-col justify-evenly h-full w-[70%]`}>\r\n                        <div className={`flex text-[1.5rem] font-sans font-bold`}>{username}</div>\r\n                        <div className={`text-[1.5rem] font-sans font-bold text-yellow-400`}><span className={`mb-2 inline-block`}>★★★★★</span><span className={`ml-4 text-black font-sans font-blod text-[1rem]`}>4.99</span></div>\r\n                        <div className={`flex justify-start items-center`}>\r\n                        <div className={`flex justify-between items-center w-32 h-4 bg-gray-300 rounded-lg`}>\r\n                            <div className={`w-[50%] h-full rounded-lg bg-green-500`}></div>\r\n                        </div>\r\n                        <div className={`flex  font-sans font-bold ml-2`}>50%</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {/* 리스트/게시글/찜 */}\r\n                <div className={`flex justify-start items-center font-sans w-full h-[20%]`}>\r\n                    <div className={`ml-9`}>리스트<span className={`mx-4`}>{miniProfileUserInfo[0]?.list_count?? 0}</span>|</div>\r\n                    <div className={`ml-4`}>게시글<span className={`mx-4`}>{miniProfileUserInfo[0]?.gallery_count?? 0}</span>|</div>\r\n                    <div className={`ml-4`}>찜<span className={`2xl:m-4 `}>{miniProfileUserInfo[0]?.bookmark_count?? 0}</span></div>\r\n                </div>\r\n            </div>\r\n\r\n        </>\r\n    )\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}