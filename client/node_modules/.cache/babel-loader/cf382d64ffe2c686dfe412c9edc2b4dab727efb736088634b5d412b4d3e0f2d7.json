{"ast":null,"code":"import axios from'axios';export async function checkedToken(setUsername,setName){const token=localStorage.getItem('token');if(!token){localStorage.removeItem('token');return;}try{const response=await axios.get('http://localhost:5000/api/token/protected-data',{headers:{Authorization:`Bearer ${token}`}});console.log(`인증된 데이터 :`,response.data);setUsername(response.data.username.name);if(setName!==undefined){setName(response.data.username.username);}}catch(error){console.error(`토큰 오류`,error);alert(\"토근이 만료되었습니다. 다시 로그인 해주세요.\");localStorage.removeItem('token');window.location.href=\"/login\";}}","map":{"version":3,"names":["axios","checkedToken","setUsername","setName","token","localStorage","getItem","removeItem","response","get","headers","Authorization","console","log","data","username","name","undefined","error","alert","window","location","href"],"sources":["C:/git/project/client/src/componant/function/checkedToken.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport async function checkedToken(setUsername,setName){\r\n\r\n    const token = localStorage.getItem('token');\r\n    if(!token){\r\n        localStorage.removeItem('token');\r\n        return;\r\n    }\r\n\r\n    try{\r\n        const response = await axios.get('http://localhost:5000/api/token/protected-data',{\r\n            headers:{\r\n                Authorization: `Bearer ${token}`,\r\n            },\r\n        });\r\n\r\n        console.log(`인증된 데이터 :`, response.data);\r\n        setUsername(response.data.username.name);\r\n        if(setName !== undefined){\r\n            setName(response.data.username.username);\r\n        }\r\n    }catch(error){\r\n        console.error(`토큰 오류`, error);\r\n        alert(\"토근이 만료되었습니다. 다시 로그인 해주세요.\");\r\n        localStorage.removeItem('token');\r\n        window.location.href = \"/login\";\r\n    }\r\n\r\n\r\n}"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,eAAe,CAAAC,YAAYA,CAACC,WAAW,CAACC,OAAO,CAAC,CAEnD,KAAM,CAAAC,KAAK,CAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CAC3C,GAAG,CAACF,KAAK,CAAC,CACNC,YAAY,CAACE,UAAU,CAAC,OAAO,CAAC,CAChC,OACJ,CAEA,GAAG,CACC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,CAAC,gDAAgD,CAAC,CAC9EC,OAAO,CAAC,CACJC,aAAa,CAAE,UAAUP,KAAK,EAClC,CACJ,CAAC,CAAC,CAEFQ,OAAO,CAACC,GAAG,CAAC,WAAW,CAAEL,QAAQ,CAACM,IAAI,CAAC,CACvCZ,WAAW,CAACM,QAAQ,CAACM,IAAI,CAACC,QAAQ,CAACC,IAAI,CAAC,CACxC,GAAGb,OAAO,GAAKc,SAAS,CAAC,CACrBd,OAAO,CAACK,QAAQ,CAACM,IAAI,CAACC,QAAQ,CAACA,QAAQ,CAAC,CAC5C,CACJ,CAAC,MAAMG,KAAK,CAAC,CACTN,OAAO,CAACM,KAAK,CAAC,OAAO,CAAEA,KAAK,CAAC,CAC7BC,KAAK,CAAC,2BAA2B,CAAC,CAClCd,YAAY,CAACE,UAAU,CAAC,OAAO,CAAC,CAChCa,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,QAAQ,CACnC,CAGJ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}