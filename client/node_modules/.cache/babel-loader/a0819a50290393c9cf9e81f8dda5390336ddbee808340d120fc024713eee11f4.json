{"ast":null,"code":"import{addUserRoom}from\"../api/List\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function JoinMessage(props){const{clickedJoin,setClickedJoin,title,index,currentMember,maxMember,img,listID,userID}=props;// 버튼 스타일링 변수\nconst buttonStyle=`w-[60px] h-[25px] bg-blue-500 rounded-[0.25rem] text-white font-sans font-normal m-1`;// 참여 메세지를 닫음\nconst handleChangeJoinModal=()=>{const updateClicked=[...clickedJoin];updateClicked[index]=false;setClickedJoin(updateClicked);};// 리스트에 참여한 유저를 채팅방에 추가하는 함수\nconst handleChangeChatroom=async()=>{// 데이터 베이스에 유저를 저장\nconst res=await addUserRoom(listID,userID);// 데이터 베이스 반영 결과를 저장\nconst result=res.affectedRows;// 결과에 따라 처리 0 또는 1\nif(result){// eslint-disable-next-line no-restricted-globals\nif(confirm(\"대화방에 참가되었습니다. \\n커뮤니티로 이동하시겠습니까?\")){window.location.href=\"/community\";}}else{alert(\"이미 참여중인 리스트 입니다.\");}};if(!clickedJoin[index])return null;return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{onClick:e=>e.preventDefault(),className:`flex flex-col justify-between fixed left-[calc(50%_-_200px)] top-[calc(50%_-_100px)] w-[400px] h-[200px] bg-white border-[1px] rounded-xl shadow-md z-50 cursor-default transition-opacity duration-500`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`flex justify-start items-center text-black text-[1.2rem] mt-4`,children:[/*#__PURE__*/_jsx(\"img\",{className:`w-[40px] h-[40px] mx-4 rounded-[50%]`,alt:\"\\uBBF8\\uB2C8\\uD504\\uB85C\\uD544\",src:`${img}`}),/*#__PURE__*/_jsx(\"div\",{children:title})]}),/*#__PURE__*/_jsx(\"p\",{className:`flex left-12 relative h-[60px] text-black`,children:\"\\uB9AC\\uC2A4\\uD2B8\\uC5D0 \\uCC38\\uC5EC\\uD558\\uC2DC\\uACA0\\uC2B5\\uB2C8\\uAE4C?\"}),/*#__PURE__*/_jsxs(\"div\",{className:`flex absolute top-28 left-12 text-black`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`mr-16`,children:[\"\\uD604\\uC7AC\\uC778\\uC6D0 : \",currentMember,\" \"]}),/*#__PURE__*/_jsxs(\"div\",{children:[\"\\uCD5C\\uB300\\uC778\\uC6D0 : \",maxMember,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:`flex justify-end`,children:[/*#__PURE__*/_jsx(\"button\",{className:`${buttonStyle}`,onClick:e=>{e.stopPropagation();handleChangeChatroom();handleChangeJoinModal();},children:\"\\uCC38\\uC5EC\"}),/*#__PURE__*/_jsx(\"button\",{className:`${buttonStyle} mr-2 mb-2`,onClick:e=>{e.stopPropagation();handleChangeJoinModal();},children:\"\\uCDE8\\uC18C\"})]})]})});}","map":{"version":3,"names":["addUserRoom","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","JoinMessage","props","clickedJoin","setClickedJoin","title","index","currentMember","maxMember","img","listID","userID","buttonStyle","handleChangeJoinModal","updateClicked","handleChangeChatroom","res","result","affectedRows","confirm","window","location","href","alert","children","onClick","e","preventDefault","className","alt","src","stopPropagation"],"sources":["C:/git/project/client/src/componant/profile/ui/joinMessage.js"],"sourcesContent":["import { addUserRoom } from \"../api/List\";\r\n\r\nexport default function JoinMessage(props){\r\n    const {clickedJoin,setClickedJoin,title,index,currentMember,maxMember,img, listID, userID} = props;\r\n\r\n    // 버튼 스타일링 변수\r\n    const buttonStyle = `w-[60px] h-[25px] bg-blue-500 rounded-[0.25rem] text-white font-sans font-normal m-1`;\r\n\r\n    // 참여 메세지를 닫음\r\n    const handleChangeJoinModal = () => {\r\n        const updateClicked = [...clickedJoin];\r\n        updateClicked[index] = false;\r\n        setClickedJoin(updateClicked);\r\n    }\r\n\r\n    // 리스트에 참여한 유저를 채팅방에 추가하는 함수\r\n    const handleChangeChatroom = async () => {\r\n        // 데이터 베이스에 유저를 저장\r\n        const res = await addUserRoom(listID, userID);\r\n        // 데이터 베이스 반영 결과를 저장\r\n        const result = res.affectedRows;\r\n      // 결과에 따라 처리 0 또는 1\r\n      if(result){\r\n        // eslint-disable-next-line no-restricted-globals\r\n        if(confirm(\"대화방에 참가되었습니다. \\n커뮤니티로 이동하시겠습니까?\")){\r\n            window.location.href = \"/community\"\r\n        }  \r\n      }else{\r\n        alert(\"이미 참여중인 리스트 입니다.\");\r\n      }\r\n    }\r\n\r\n    if (!clickedJoin[index]) return null;\r\n\r\n    return(\r\n        <>\r\n            <div\r\n                onClick={(e) => e.preventDefault()}\r\n                className={`flex flex-col justify-between fixed left-[calc(50%_-_200px)] top-[calc(50%_-_100px)] w-[400px] h-[200px] bg-white border-[1px] rounded-xl shadow-md z-50 cursor-default transition-opacity duration-500`}>\r\n                {/* 리스트 제목 */}\r\n                <div className={`flex justify-start items-center text-black text-[1.2rem] mt-4` }>\r\n                    {/* 리스트 프로필 이미지 */}\r\n                    <img className={`w-[40px] h-[40px] mx-4 rounded-[50%]`} alt=\"미니프로필\" src={`${img}`}></img>\r\n                    <div>{title}</div>\r\n                </div>\r\n                {/* 메세지 본문 내용 */}\r\n                <p className={`flex left-12 relative h-[60px] text-black`}>리스트에 참여하시겠습니까?</p>\r\n                {/* 참여현황 영역 */}\r\n                <div className={`flex absolute top-28 left-12 text-black`}>\r\n                    <div className={`mr-16`}>현재인원 : {currentMember} </div>\r\n                    <div>최대인원 : {maxMember} </div>\r\n                </div>\r\n                {/* 참여 또는 취소 버튼 영역 */}\r\n                <div className={`flex justify-end`}>\r\n                    <button \r\n                        className={`${buttonStyle}`}\r\n                        onClick={(e)=>{\r\n                            e.stopPropagation();\r\n                            handleChangeChatroom();\r\n                            handleChangeJoinModal();\r\n                        }}\r\n\r\n                    >\r\n                        참여\r\n                    </button>\r\n\r\n                    <button \r\n                        className={`${buttonStyle} mr-2 mb-2`}\r\n                        onClick={(e)=> {\r\n                            e.stopPropagation();\r\n                            handleChangeJoinModal();\r\n                        }\r\n                        }\r\n                    >\r\n                        취소\r\n                    </button>\r\n                </div>\r\n\r\n            </div>\r\n        </>\r\n    )\r\n}"],"mappings":"AAAA,OAASA,WAAW,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE1C,cAAe,SAAS,CAAAC,WAAWA,CAACC,KAAK,CAAC,CACtC,KAAM,CAACC,WAAW,CAACC,cAAc,CAACC,KAAK,CAACC,KAAK,CAACC,aAAa,CAACC,SAAS,CAACC,GAAG,CAAEC,MAAM,CAAEC,MAAM,CAAC,CAAGT,KAAK,CAElG;AACA,KAAM,CAAAU,WAAW,CAAG,sFAAsF,CAE1G;AACA,KAAM,CAAAC,qBAAqB,CAAGA,CAAA,GAAM,CAChC,KAAM,CAAAC,aAAa,CAAG,CAAC,GAAGX,WAAW,CAAC,CACtCW,aAAa,CAACR,KAAK,CAAC,CAAG,KAAK,CAC5BF,cAAc,CAACU,aAAa,CAAC,CACjC,CAAC,CAED;AACA,KAAM,CAAAC,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACrC;AACA,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAtB,WAAW,CAACgB,MAAM,CAAEC,MAAM,CAAC,CAC7C;AACA,KAAM,CAAAM,MAAM,CAAGD,GAAG,CAACE,YAAY,CACjC;AACA,GAAGD,MAAM,CAAC,CACR;AACA,GAAGE,OAAO,CAAC,iCAAiC,CAAC,CAAC,CAC1CC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAG,YAAY,CACvC,CACF,CAAC,IAAI,CACHC,KAAK,CAAC,kBAAkB,CAAC,CAC3B,CACF,CAAC,CAED,GAAI,CAACpB,WAAW,CAACG,KAAK,CAAC,CAAE,MAAO,KAAI,CAEpC,mBACIV,IAAA,CAAAI,SAAA,EAAAwB,QAAA,cACI1B,KAAA,QACI2B,OAAO,CAAGC,CAAC,EAAKA,CAAC,CAACC,cAAc,CAAC,CAAE,CACnCC,SAAS,CAAE,yMAA0M,CAAAJ,QAAA,eAErN1B,KAAA,QAAK8B,SAAS,CAAE,+DAAiE,CAAAJ,QAAA,eAE7E5B,IAAA,QAAKgC,SAAS,CAAE,sCAAuC,CAACC,GAAG,CAAC,gCAAO,CAACC,GAAG,CAAE,GAAGrB,GAAG,EAAG,CAAM,CAAC,cACzFb,IAAA,QAAA4B,QAAA,CAAMnB,KAAK,CAAM,CAAC,EACjB,CAAC,cAENT,IAAA,MAAGgC,SAAS,CAAE,2CAA4C,CAAAJ,QAAA,CAAC,4EAAc,CAAG,CAAC,cAE7E1B,KAAA,QAAK8B,SAAS,CAAE,yCAA0C,CAAAJ,QAAA,eACtD1B,KAAA,QAAK8B,SAAS,CAAE,OAAQ,CAAAJ,QAAA,EAAC,6BAAO,CAACjB,aAAa,CAAC,GAAC,EAAK,CAAC,cACtDT,KAAA,QAAA0B,QAAA,EAAK,6BAAO,CAAChB,SAAS,CAAC,GAAC,EAAK,CAAC,EAC7B,CAAC,cAENV,KAAA,QAAK8B,SAAS,CAAE,kBAAmB,CAAAJ,QAAA,eAC/B5B,IAAA,WACIgC,SAAS,CAAE,GAAGhB,WAAW,EAAG,CAC5Ba,OAAO,CAAGC,CAAC,EAAG,CACVA,CAAC,CAACK,eAAe,CAAC,CAAC,CACnBhB,oBAAoB,CAAC,CAAC,CACtBF,qBAAqB,CAAC,CAAC,CAC3B,CAAE,CAAAW,QAAA,CAEL,cAED,CAAQ,CAAC,cAET5B,IAAA,WACIgC,SAAS,CAAE,GAAGhB,WAAW,YAAa,CACtCa,OAAO,CAAGC,CAAC,EAAI,CACXA,CAAC,CAACK,eAAe,CAAC,CAAC,CACnBlB,qBAAqB,CAAC,CAAC,CAC3B,CACC,CAAAW,QAAA,CACJ,cAED,CAAQ,CAAC,EACR,CAAC,EAEL,CAAC,CACR,CAAC,CAEX","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}