{"ast":null,"code":"import{useState,useEffect}from\"react\";import Menu from\"./menu\";import exifr from\"exifr\";import TagManager from\"./create/list/TagManager\";import{checkedToken}from\"./function/checkedToken\";import{fetchUserID}from\"./function/fetchUserID\";import{fetchUserInfo}from\"./community/api/fetchUserInfo\";import{createPost}from\"./api/createPost\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function CreatePost(){var _userInfo$0$profile_i2,_userInfo$3,_userInfo$0$profile_i3,_userInfo$4;const[isOpen,setIsOpen]=useState(true);const[selectedImages,setSelectedImages]=useState([]);const[currentImageIndex,setCurrentImageIndex]=useState(0);// 이미지별 메타데이터 배열\nconst[imageMeta,setImageMeta]=useState([]);const[imageAddress,setImageAddress]=useState([]);// 태그 관련 상태 추가\nconst[tags,setTags]=useState([]);const[showInput,setShowInput]=useState(false);const[currentTag,setCurrentTag]=useState(\"\");const[editingIndex,setEditingIndex]=useState(null);const[editingTag,setEditingTag]=useState(\"\");const[postText,setPostText]=useState(\"\");const[titleText,setTitleText]=useState(\"\");// 유저 정보 상태관리\nconst[userName,setUsername]=useState(\"\");const[name,setName]=useState(\"\");const[userInfo,setUserInfo]=useState([]);const[formatInfo,setFormatInfo]=useState({});useEffect(()=>{const getUserInfo=async()=>{await checkedToken(setUsername,setName);};getUserInfo();},[]);useEffect(()=>{const getUserInfo=async()=>{const res=await fetchUserInfo(name);setUserInfo(res);};if(userName&&name){getUserInfo();}},[userName,name]);// 서버로 전송하기 위해 가공한 데이터\nuseEffect(()=>{if(userName&&name&&userInfo.length!==0){var _userInfo$0$friend_id,_userInfo$,_userInfo$0$profile_i,_userInfo$2;setFormatInfo({id:(_userInfo$0$friend_id=(_userInfo$=userInfo[0])===null||_userInfo$===void 0?void 0:_userInfo$.friend_id)!==null&&_userInfo$0$friend_id!==void 0?_userInfo$0$friend_id:0,name:userName,email:name,profile:(_userInfo$0$profile_i=(_userInfo$2=userInfo[0])===null||_userInfo$2===void 0?void 0:_userInfo$2.profile_image_url)!==null&&_userInfo$0$profile_i!==void 0?_userInfo$0$profile_i:0,postText:postText,titleText:titleText,address:imageAddress,imageData:selectedImages});}},[userName,name,userInfo,postText,titleText,imageAddress,selectedImages]);useEffect(()=>{},[formatInfo,postText,selectedImages]);const handleClose=()=>{if(window.confirm(\"게시물을 삭제하시겠습니까?\")){setIsOpen(false);window.history.back();};};async function getAddressFromCoords(lat,lng){const res=await fetch(`https://dapi.kakao.com/v2/local/geo/coord2address.json?x=${lng}&y=${lat}`,{headers:{Authorization:'KakaoAK e3edda565841b375880733ac67c7e2f8'}});const data=await res.json();if(data.documents&&data.documents.length>0){return data.documents[0].address.address_name;}return null;}const handleImageSelect=async event=>{// 사용자가 선택한 파일들을 가져와서 배열로 변환\n// event.target.files는 FileList 겍체이기 때문에 배열로 바꿔줌\nconst files=Array.from(event.target.files);// 각 파일을 FileReader로 읽어들이기 위한 Promise 배열 생성\nconst readers=files.map(file=>{return new Promise(resolve=>{// 브라우저 내장 객체 FileReader 생성\nconst reader=new FileReader();reader.onload=async e=>{// exifr로 위치정보 추출\nconst gps=await exifr.gps(file);let address=null;if(gps&&gps.latitude&&gps.longitude){address=await getAddressFromCoords(gps.latitude,gps.longitude);}resolve({src:e.target.result,gps,address});};reader.readAsDataURL(file);});});Promise.all(readers).then(images=>{// if(images.some(img => !img.address)){\n//   window.alert(\"위치 정보가 존재하지 않습니다. 위치 정보가 있는 사진만 첨부할 수 있습니다.\")\n//   return;\n// };\nsetSelectedImages(prev=>[...prev,...images.map(img=>img.src)]);setImageMeta(prev=>[...prev,...images.map(img=>img.gps)]);setImageAddress(prev=>[...prev,...images.map(img=>img.address)]);});};const triggerFileInput=()=>{document.getElementById(\"imageInput\").click();};// 태그 추가 함수\nconst handleAddTag=()=>{if(currentTag.trim()!==\"\"){// 글에서 단어 추출\nconst textWords=postText.split(/\\s+/).filter(word=>word.length>1);const availableWords=[...new Set(textWords)];// 앞에 #이 붙였으면 자르고, 없으면 그대로 비교\nconst tagWithoutHash=currentTag.startsWith(\"#\")?currentTag.slice(1):currentTag;// 입력된 태그가 글에 포함된 단어인지 확인\nif(!availableWords.some(word=>word.includes(tagWithoutHash))){alert(\"태그는 글에 포함된 단어만 사용할 수 있습니다.\");// 잘못된 태그 입력시 입력값 초기화\nsetCurrentTag(\"\");// 잘못된 태그 입력시 입력 필드 숨김\nsetShowInput(false);return;}// 태그 앞에 #이 없으면 추가\nconst formattedTag=currentTag.startsWith(\"#\")?currentTag.trim():`#${currentTag.trim()}`;setTags([...tags,formattedTag]);// 입력 필드 초기화\nsetCurrentTag(\"\");// 입력 필드 숨기기\nsetShowInput(false);}};// 태그 수정 완료 함수\nconst handleEditTag=()=>{if(editingTag.trim()!==\"\"){// 글에서 단어 추출\nconst textWords=postText.split(/\\s+/).filter(word=>word.length>1);const availableWords=[...new Set(textWords)];// 수정된 태그가 앞에 #붙어있으면 자르고, 없으면 그대로 비교\nconst tagWithoutHash=editingTag.startsWith(\"#\")?editingTag.slice(1):editingTag;// 포함된 단어가 없다면 alert창 실행\nif(!availableWords.some(word=>word.includes(tagWithoutHash))){alert(\"태그는 글에 포함된 단어만 사용할 수 있습니다.\");return;}const formattedTag=editingTag.startsWith(\"#\")?editingTag.trim():`#${editingTag.trim()}`;const updatedTags=[...tags];// 수정된 태그 저장\nupdatedTags[editingIndex]=formattedTag;setTags(updatedTags);}// 수정 상태 초기화\nsetEditingIndex(null);// 수정 필드 초기화\nsetEditingTag(\"\");};// 태그 삭제 함수\nconst handleDeleteTag=index=>{// 해당 인덱스의 태그 제거\nconst updatedTags=tags.filter((_,i)=>i!==index);setTags(updatedTags);};// 엔터 키로 태그 추가\nconst handleKeyPress=e=>{if(e.key===\"Enter\"){handleAddTag();}};// 작성된 데이터를 서버로 전송\nconst handleSubmitPost=async()=>{if(postText&&titleText&&imageAddress){if(formatInfo.id!==0&&formatInfo.profile!==0&&Object.keys(formatInfo).length!==0){const res=await createPost(formatInfo);if(res.result){window.location.href='/home';}}else{alert(\"게시글 작성 오류!\");}}else{alert(\"모든 내용을 작성해주세요.\");}};if(!isOpen){return null;}return(/*#__PURE__*/// <>\n// <div className=\"grid grid-cols-1 grid-rows-9 sm:grid-rows-1 sm:grid-cols-sm-minmax sm:grid-cols-9 h-screen overflow-x-hidden\">\n// {/* 왼쪽: 가로 1 비율 (1/9) */}\n// <Menu current_src={5} />\n// {/* 오른쪽: 가로 8 비율 (8/9) */}\n// <div className=\"flex flex-col flex-wrap row-span-9 sm:col-span-8 \">\n//     </div></div>\n// </>\n_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:`flex justify-center items-center fixed bg-black bg-opacity-50 w-screen h-screen left-0 top-0 z-20`,children:/*#__PURE__*/_jsxs(\"div\",{className:`flex relative w-[60vw] h-[75vh] rounded-md bg-white bg-opacity-100`,children:[/*#__PURE__*/_jsx(\"span\",{onClick:handleClose,className:`flex justify-end absolute right-0 mr-2 text-[1.5rem] h-[60px] w-[50px] cursor-pointer text-gray-500 hover:text-black transition-colors duration-500`,children:\"X\"}),/*#__PURE__*/_jsx(\"div\",{className:`relative w-[60%] rounded-l-md`,children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gradient-to-br from-blue-50 to-indigo-100 w-full h-full flex items-center justify-center\",children:[selectedImages.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"group relative inline-flex items-center justify-center px-8 py-4 text-lg font-medium text-white bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out border-0 focus:outline-none focus:ring-4 focus:ring-blue-300\",onClick:triggerFileInput,children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300\",fill:\"none\",stroke:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"})}),\"\\uC774\\uBBF8\\uC9C0\\uB97C \\uC120\\uD0DD\\uD558\\uC138\\uC694\",/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-700 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-gray-600 text-sm font-medium\",children:\"\\uD83D\\uDCCD \\uC704\\uCE58 \\uC815\\uBCF4\\uAC00 \\uD3EC\\uD568\\uB41C \\uC0AC\\uC9C4\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex justify-center space-x-4 text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-green-400 rounded-full mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uC9C0\\uC6D0 \\uD615\\uC2DD: JPG, PNG, GIF\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-blue-400 rounded-full mr-2\"}),/*#__PURE__*/_jsx(\"span\",{children:\"\\uCD5C\\uB300 10MB\"})]})]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:selectedImages[currentImageIndex],alt:\"\\uC120\\uD0DD\\uB41C \\uC774\\uBBF8\\uC9C0\",className:\"w-full h-full object-cover rounded-l-md\"}),selectedImages.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-5 right-5 bg-white rounded-lg p-2 shadow-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 items-center\",children:[selectedImages.map((img,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-12 h-12\",children:[/*#__PURE__*/_jsx(\"img\",{src:img,alt:`썸네일 ${index+1}`,className:`w-12 h-12 object-cover rounded cursor-pointer ${currentImageIndex===index?'border-2 border-blue-500':''}`,onClick:()=>setCurrentImageIndex(index)}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>{e.stopPropagation();// 썸네일 클릭 이벤트와 겹치지 않게\nsetSelectedImages(prev=>prev.filter((_,i)=>i!==index));setImageMeta(prev=>prev.filter((_,i)=>i!==index));setImageAddress(prev=>prev.filter((_,i)=>i!==index));// 삭제 후 인덱스 조정\nif(currentImageIndex===index)setCurrentImageIndex(0);else if(currentImageIndex>index)setCurrentImageIndex(currentImageIndex-1);},className:\"absolute top-0 right-0 bg-black bg-opacity-60 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-500\",style:{transform:'translate(40%,-40%)'},tabIndex:-1,children:\"\\xD7\"})]},index)),/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-12 bg-blue-400 text-white text-2xl rounded flex items-center justify-center cursor-pointer hover:bg-blue-500\",onClick:triggerFileInput,children:\"+\"})]})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"imageInput\",accept:\"image/*\",multiple:true,onChange:handleImageSelect,style:{display:\"none\"}})]})}),/*#__PURE__*/_jsxs(\"div\",{className:`w-[40%] rounded-r-md`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`h-[10%] flex items-center pl-4 border-b-[2px] border-gray-200`,children:[/*#__PURE__*/_jsx(\"img\",{className:`w-[40px] h-[40px] mr-4 rounded-[50%]`,src:(_userInfo$0$profile_i2=(_userInfo$3=userInfo[0])===null||_userInfo$3===void 0?void 0:_userInfo$3.profile_image_url)!==null&&_userInfo$0$profile_i2!==void 0?_userInfo$0$profile_i2:\"images/미니프로필.png\",alt:\"\\uBBF8\\uB2C8\\uD504\\uB85C\\uD544\"}),/*#__PURE__*/_jsx(\"span\",{children:userName})]}),/*#__PURE__*/_jsxs(\"div\",{className:`h-[42.5%] flex border-b-[2px] border-gray-200`,children:[/*#__PURE__*/_jsx(\"div\",{className:`w-[15%] flex justify-center mt-4`,children:/*#__PURE__*/_jsx(\"img\",{className:`w-[40px] h-[40px] rounded-[50%]`,src:(_userInfo$0$profile_i3=(_userInfo$4=userInfo[0])===null||_userInfo$4===void 0?void 0:_userInfo$4.profile_image_url)!==null&&_userInfo$0$profile_i3!==void 0?_userInfo$0$profile_i3:`images/미니프로필.png`,alt:\"\\uBBF8\\uB2C8\\uD504\\uB85C\\uD544\"})}),/*#__PURE__*/_jsxs(\"div\",{className:`w-[85%]`,children:[/*#__PURE__*/_jsxs(\"div\",{className:`h-[80%] flex flex-col justify-center`,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\uC81C\\uBAA9\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",className:`flex justify-start my-2 mt-6 outline-none text-[1.2rem] font-bold`,value:titleText,onChange:e=>{setTitleText(e.target.value);}}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full h-[90%] resize-none outline-none pb-0\",placeholder:\"\\uAE00\\uC744 \\uC785\\uB825\\uD558\\uC138\\uC694\",value:postText,onChange:e=>{setPostText(e.target.value);}})]}),/*#__PURE__*/_jsx(\"div\",{className:`h-[20%] flex  items-center`,children:/*#__PURE__*/_jsx(TagManager,{tags:tags,setTags:setTags,showInput:showInput,setShowInput:setShowInput,currentTag:currentTag,setCurrentTag:setCurrentTag,editingIndex:editingIndex,setEditingIndex:setEditingIndex,editingTag:editingTag,setEditingTag:setEditingTag,handleAddTag:handleAddTag,handleEditTag:handleEditTag,handleDeleteTag:handleDeleteTag,handleKeyPress:handleKeyPress})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:`h-[40%] p-4 font-sans font-bold text-[0.8rem] border-b-[2px] border-gray-200`,children:/*#__PURE__*/_jsx(\"div\",{className:\"text-xl \",children:imageAddress[currentImageIndex]?imageAddress[currentImageIndex]:\"위치\"})}),/*#__PURE__*/_jsxs(\"div\",{className:`h-[7.5%] flex`,children:[/*#__PURE__*/_jsx(\"div\",{className:`resize-none outline-none w-[85%] h-full pt-4 pl-4 `}),/*#__PURE__*/_jsx(\"div\",{onClick:handleSubmitPost,className:`w-[15%] flex justify-center items-center text-blue-500 hover:font-bold cursor-pointer`,children:\"\\uACF5\\uC720\\uD558\\uAE30\"})]})]})]})})}));}","map":{"version":3,"names":["useState","useEffect","Menu","exifr","TagManager","checkedToken","fetchUserID","fetchUserInfo","createPost","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CreatePost","_userInfo$0$profile_i2","_userInfo$3","_userInfo$0$profile_i3","_userInfo$4","isOpen","setIsOpen","selectedImages","setSelectedImages","currentImageIndex","setCurrentImageIndex","imageMeta","setImageMeta","imageAddress","setImageAddress","tags","setTags","showInput","setShowInput","currentTag","setCurrentTag","editingIndex","setEditingIndex","editingTag","setEditingTag","postText","setPostText","titleText","setTitleText","userName","setUsername","name","setName","userInfo","setUserInfo","formatInfo","setFormatInfo","getUserInfo","res","length","_userInfo$0$friend_id","_userInfo$","_userInfo$0$profile_i","_userInfo$2","id","friend_id","email","profile","profile_image_url","address","imageData","handleClose","window","confirm","history","back","getAddressFromCoords","lat","lng","fetch","headers","Authorization","data","json","documents","address_name","handleImageSelect","event","files","Array","from","target","readers","map","file","Promise","resolve","reader","FileReader","onload","e","gps","latitude","longitude","src","result","readAsDataURL","all","then","images","prev","img","triggerFileInput","document","getElementById","click","handleAddTag","trim","textWords","split","filter","word","availableWords","Set","tagWithoutHash","startsWith","slice","some","includes","alert","formattedTag","handleEditTag","updatedTags","handleDeleteTag","index","_","i","handleKeyPress","key","handleSubmitPost","Object","keys","location","href","children","className","onClick","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","alt","stopPropagation","style","transform","tabIndex","type","accept","multiple","onChange","display","placeholder","value"],"sources":["C:/git/project/client/src/componant/createPost.js"],"sourcesContent":["import { useState,useEffect } from \"react\";\r\nimport Menu from \"./menu\";\r\nimport exifr from \"exifr\";\r\nimport TagManager from \"./create/list/TagManager\";\r\nimport { checkedToken } from \"./function/checkedToken\";\r\nimport { fetchUserID } from \"./function/fetchUserID\";\r\nimport { fetchUserInfo } from \"./community/api/fetchUserInfo\";\r\nimport { createPost } from \"./api/createPost\";\r\n\r\nexport default function CreatePost() {\r\n  const [isOpen, setIsOpen] = useState(true);\r\n  const [selectedImages, setSelectedImages] = useState([]);\r\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\r\n  \r\n  // 이미지별 메타데이터 배열\r\n  const [imageMeta, setImageMeta] = useState([]);\r\n  const [imageAddress, setImageAddress] = useState([]);\r\n\r\n  // 태그 관련 상태 추가\r\n  const [tags, setTags] = useState([]);\r\n  const [showInput, setShowInput] = useState(false);\r\n  const [currentTag, setCurrentTag] = useState(\"\");\r\n  const [editingIndex, setEditingIndex] = useState(null);\r\n  const [editingTag, setEditingTag] = useState(\"\");\r\n  const [postText, setPostText] = useState(\"\");\r\n  const [titleText, setTitleText] = useState(\"\");\r\n\r\n  // 유저 정보 상태관리\r\n  const [userName, setUsername] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [userInfo, setUserInfo] = useState([]);\r\n  const [formatInfo, setFormatInfo] = useState({})\r\n\r\n  useEffect(()=>{\r\n    const getUserInfo = async ()=>{\r\n      await checkedToken(setUsername, setName);\r\n    }\r\n    getUserInfo();\r\n    \r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    const getUserInfo = async ()=>{\r\n      const res = await fetchUserInfo(name);\r\n      setUserInfo(res);\r\n    }\r\n    if(userName && name){\r\n      getUserInfo();\r\n    }\r\n  },[userName, name])\r\n\r\n  // 서버로 전송하기 위해 가공한 데이터\r\n  useEffect(()=>{\r\n    if(userName && name && userInfo.length !== 0){\r\n      setFormatInfo({\r\n        id:userInfo[0]?.friend_id?? 0,\r\n        name:userName,\r\n        email:name,\r\n        profile:userInfo[0]?.profile_image_url?? 0,\r\n        postText:postText,\r\n        titleText:titleText,\r\n        address:imageAddress,\r\n        imageData: selectedImages\r\n      });\r\n    }\r\n  },[userName,name,userInfo,postText,titleText,imageAddress,selectedImages]);\r\n\r\n  useEffect(()=>{\r\n  },[formatInfo,postText,selectedImages]);\r\n\r\n  const handleClose = () => {\r\n    if (window.confirm(\"게시물을 삭제하시겠습니까?\")){\r\n      setIsOpen(false);\r\n      window.history.back();\r\n    };                                                                                                                                                          \r\n  };\r\n\r\n  async function getAddressFromCoords(lat, lng) {\r\n    const res = await fetch(\r\n      `https://dapi.kakao.com/v2/local/geo/coord2address.json?x=${lng}&y=${lat}`,\r\n      {\r\n        headers: {\r\n          Authorization: 'KakaoAK e3edda565841b375880733ac67c7e2f8'\r\n        }\r\n      }\r\n    );\r\n    const data = await res.json();\r\n    if (data.documents && data.documents.length > 0) {\r\n      return data.documents[0].address.address_name;\r\n    }           \r\n    return null;\r\n  }\r\n\r\n  const handleImageSelect = async (event) => {\r\n    // 사용자가 선택한 파일들을 가져와서 배열로 변환\r\n    // event.target.files는 FileList 겍체이기 때문에 배열로 바꿔줌\r\n    const files = Array.from(event.target.files);\r\n\r\n    // 각 파일을 FileReader로 읽어들이기 위한 Promise 배열 생성\r\n    const readers = files.map((file) => {\r\n      return new Promise((resolve) => {\r\n        // 브라우저 내장 객체 FileReader 생성\r\n        const reader = new FileReader();\r\n        reader.onload = async (e) => {\r\n          // exifr로 위치정보 추출\r\n          const gps = await exifr.gps(file);\r\n          let address = null;\r\n          if (gps && gps.latitude && gps.longitude) {\r\n            address = await getAddressFromCoords(gps.latitude, gps.longitude);\r\n          }\r\n          resolve({ src: e.target.result, gps, address });\r\n        };\r\n        reader.readAsDataURL(file);\r\n      });\r\n    });\r\n    Promise.all(readers).then((images) => {\r\n\r\n      // if(images.some(img => !img.address)){\r\n      //   window.alert(\"위치 정보가 존재하지 않습니다. 위치 정보가 있는 사진만 첨부할 수 있습니다.\")\r\n      //   return;\r\n      // };\r\n      setSelectedImages((prev) => [...prev, ...images.map(img => img.src)]);\r\n      setImageMeta((prev) => [...prev, ...images.map(img => img.gps)]);\r\n      setImageAddress((prev) => [...prev, ...images.map(img => img.address)]);\r\n    });\r\n\r\n   \r\n  };\r\n\r\n  const triggerFileInput = () => {\r\n    document.getElementById(\"imageInput\").click();\r\n  };\r\n\r\n  // 태그 추가 함수\r\n  const handleAddTag = () => {\r\n    if (currentTag.trim() !== \"\") {\r\n      // 글에서 단어 추출\r\n      const textWords = postText.split(/\\s+/).filter((word) => word.length > 1);\r\n      const availableWords = [...new Set(textWords)];\r\n\r\n      // 앞에 #이 붙였으면 자르고, 없으면 그대로 비교\r\n      const tagWithoutHash = currentTag.startsWith(\"#\")\r\n        ? currentTag.slice(1)\r\n        : currentTag;\r\n      // 입력된 태그가 글에 포함된 단어인지 확인\r\n      if (!availableWords.some((word) => word.includes(tagWithoutHash))) {\r\n        alert(\"태그는 글에 포함된 단어만 사용할 수 있습니다.\");\r\n        // 잘못된 태그 입력시 입력값 초기화\r\n        setCurrentTag(\"\");\r\n        // 잘못된 태그 입력시 입력 필드 숨김\r\n        setShowInput(false);\r\n        return;\r\n      }\r\n\r\n      // 태그 앞에 #이 없으면 추가\r\n      const formattedTag = currentTag.startsWith(\"#\")\r\n        ? currentTag.trim()\r\n        : `#${currentTag.trim()}`;\r\n\r\n      setTags([...tags, formattedTag]);\r\n      // 입력 필드 초기화\r\n      setCurrentTag(\"\");\r\n      // 입력 필드 숨기기\r\n      setShowInput(false);\r\n    }\r\n  };\r\n\r\n  // 태그 수정 완료 함수\r\n  const handleEditTag = () => {\r\n    if (editingTag.trim() !== \"\") {\r\n      // 글에서 단어 추출\r\n      const textWords = postText.split(/\\s+/).filter((word) => word.length > 1);\r\n      const availableWords = [...new Set(textWords)];\r\n\r\n      // 수정된 태그가 앞에 #붙어있으면 자르고, 없으면 그대로 비교\r\n      const tagWithoutHash = editingTag.startsWith(\"#\")\r\n        ? editingTag.slice(1)\r\n        : editingTag;\r\n      // 포함된 단어가 없다면 alert창 실행\r\n      if (!availableWords.some((word) => word.includes(tagWithoutHash))) {\r\n        alert(\"태그는 글에 포함된 단어만 사용할 수 있습니다.\");\r\n        return;\r\n      }\r\n\r\n      const formattedTag = editingTag.startsWith(\"#\")\r\n        ? editingTag.trim()\r\n        : `#${editingTag.trim()}`;\r\n\r\n      const updatedTags = [...tags];\r\n      // 수정된 태그 저장\r\n      updatedTags[editingIndex] = formattedTag;\r\n      setTags(updatedTags);\r\n    }\r\n    // 수정 상태 초기화\r\n    setEditingIndex(null);\r\n    // 수정 필드 초기화\r\n    setEditingTag(\"\");\r\n  };\r\n\r\n  // 태그 삭제 함수\r\n  const handleDeleteTag = (index) => {\r\n    // 해당 인덱스의 태그 제거\r\n    const updatedTags = tags.filter((_, i) => i !== index);\r\n    setTags(updatedTags);\r\n  };\r\n\r\n  // 엔터 키로 태그 추가\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === \"Enter\") {\r\n      handleAddTag();\r\n    }\r\n  };\r\n\r\n  // 작성된 데이터를 서버로 전송\r\n  const handleSubmitPost = async () => {\r\n    if(postText && titleText && imageAddress){\r\n      if(formatInfo.id !== 0 && formatInfo.profile !== 0 && Object.keys(formatInfo).length !== 0){\r\n        const res = await createPost(formatInfo);\r\n        if(res.result){\r\n          window.location.href = '/home';\r\n        }\r\n      }else{\r\n        alert(\"게시글 작성 오류!\");\r\n      }\r\n    }else{\r\n      alert(\"모든 내용을 작성해주세요.\");\r\n    }\r\n  }\r\n\r\n  if (!isOpen) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    // <>\r\n    // <div className=\"grid grid-cols-1 grid-rows-9 sm:grid-rows-1 sm:grid-cols-sm-minmax sm:grid-cols-9 h-screen overflow-x-hidden\">\r\n    // {/* 왼쪽: 가로 1 비율 (1/9) */}\r\n    // <Menu current_src={5} />\r\n    // {/* 오른쪽: 가로 8 비율 (8/9) */}\r\n    // <div className=\"flex flex-col flex-wrap row-span-9 sm:col-span-8 \">\r\n    //     </div></div>\r\n    // </>\r\n    <>\r\n      <div\r\n        className={`flex justify-center items-center fixed bg-black bg-opacity-50 w-screen h-screen left-0 top-0 z-20`}\r\n      >\r\n        <div\r\n          className={`flex relative w-[60vw] h-[75vh] rounded-md bg-white bg-opacity-100`}\r\n        >\r\n          <span\r\n            onClick={handleClose}\r\n            className={`flex justify-end absolute right-0 mr-2 text-[1.5rem] h-[60px] w-[50px] cursor-pointer text-gray-500 hover:text-black transition-colors duration-500`}\r\n          >\r\n            {/* 닫기버튼 요소 */}X\r\n          </span>\r\n          {/* 갤러리 이미지 영역 */}\r\n          <div className={`relative w-[60%] rounded-l-md`}>\r\n            {/* 갤러리 이미지 */}\r\n            <div className=\"bg-gradient-to-br from-blue-50 to-indigo-100 w-full h-full flex items-center justify-center\">\r\n              {selectedImages.length === 0 ? (\r\n                <div className=\"text-center\">\r\n                  <button \r\n                    className=\"group relative inline-flex items-center justify-center px-8 py-4 text-lg font-medium text-white bg-gradient-to-r from-blue-500 to-purple-600 rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-in-out border-0 focus:outline-none focus:ring-4 focus:ring-blue-300\"\r\n                    onClick={triggerFileInput}\r\n                  >\r\n                    <svg \r\n                      className=\"w-6 h-6 mr-3 group-hover:rotate-12 transition-transform duration-300\" \r\n                      fill=\"none\" \r\n                      stroke=\"currentColor\" \r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path \r\n                        strokeLinecap=\"round\" \r\n                        strokeLinejoin=\"round\" \r\n                        strokeWidth={2} \r\n                        d=\"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\" \r\n                      />\r\n                    </svg>\r\n                    이미지를 선택하세요\r\n                    <div className=\"absolute inset-0 bg-gradient-to-r from-blue-600 to-purple-700 rounded-2xl opacity-0 group-hover:opacity-100 transition-opacity duration-300\"></div>\r\n                  </button>\r\n                  <p className=\"mt-4 text-gray-600 text-sm font-medium\">\r\n                    📍 위치 정보가 포함된 사진을 선택해주세요\r\n                  </p>\r\n                  <div className=\"mt-6 flex justify-center space-x-4 text-xs text-gray-500\">\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"w-2 h-2 bg-green-400 rounded-full mr-2\"></div>\r\n                      <span>지원 형식: JPG, PNG, GIF</span>\r\n                    </div>\r\n                    <div className=\"flex items-center\">\r\n                      <div className=\"w-2 h-2 bg-blue-400 rounded-full mr-2\"></div>\r\n                      <span>최대 10MB</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <>\r\n                  {/* 메인 이미지 표시 */}\r\n                  <img\r\n                    src={selectedImages[currentImageIndex]}\r\n                    alt=\"선택된 이미지\"\r\n                    className=\"w-full h-full object-cover rounded-l-md\"\r\n                  />\r\n                  \r\n                  {/* 이미지가 여러 장일 때 썸네일과 + 버튼 표시 */}\r\n                  {selectedImages.length > 0 && (\r\n                    <div className=\"absolute bottom-5 right-5 bg-white rounded-lg p-2 shadow-lg\">\r\n                      <div className=\"flex gap-2 items-center\">\r\n                        {/* 썸네일들 */}\r\n                        {selectedImages.map((img, index) => (\r\n                          <div key={index} className=\"relative w-12 h-12\">\r\n                            <img\r\n                              src={img}\r\n                              alt={`썸네일 ${index + 1}`}\r\n                              className={`w-12 h-12 object-cover rounded cursor-pointer ${currentImageIndex === index ? 'border-2 border-blue-500' : ''}`}\r\n                              onClick={() => setCurrentImageIndex(index)}\r\n                            />\r\n                            {/* X 버튼 */}\r\n                            <button\r\n                              onClick={(e) => {\r\n                                e.stopPropagation(); // 썸네일 클릭 이벤트와 겹치지 않게\r\n                                setSelectedImages(prev => prev.filter((_, i) => i !== index));\r\n                                setImageMeta(prev => prev.filter((_, i) => i !== index));\r\n                                setImageAddress(prev => prev.filter((_, i) => i !== index));\r\n                                // 삭제 후 인덱스 조정\r\n                                if (currentImageIndex === index) setCurrentImageIndex(0);\r\n                                else if (currentImageIndex > index) setCurrentImageIndex(currentImageIndex - 1);\r\n                              }}\r\n                              className=\"absolute top-0 right-0 bg-black bg-opacity-60 text-white rounded-full w-5 h-5 flex items-center justify-center text-xs hover:bg-red-500\"\r\n                              style={{transform: 'translate(40%,-40%)'}}\r\n                              tabIndex={-1}\r\n                            >\r\n                              ×\r\n                            </button>\r\n                          </div>\r\n                        ))}\r\n                        \r\n                        {/* + 버튼 */}\r\n                        <div \r\n                          className=\"w-12 h-12 bg-blue-400 text-white text-2xl rounded flex items-center justify-center cursor-pointer hover:bg-blue-500\"\r\n                          onClick={triggerFileInput}\r\n                        >\r\n                          +\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                </>\r\n              )}\r\n              \r\n              {/* 파일 입력 (하나만 유지) */}\r\n              <input\r\n                type=\"file\"\r\n                id=\"imageInput\"\r\n                accept=\"image/*\"\r\n                multiple\r\n                onChange={handleImageSelect}\r\n                style={{ display: \"none\" }}\r\n              />\r\n            </div>\r\n          </div>\r\n          {/* 갤러리 본문 영역 */}\r\n          <div className={`w-[40%] rounded-r-md`}>\r\n            {/* 갤러리 제목 요소 */}\r\n            <div\r\n              className={`h-[10%] flex items-center pl-4 border-b-[2px] border-gray-200`}\r\n            >\r\n              {/* 갤러리 제목 프로필 */}\r\n              <img\r\n                className={`w-[40px] h-[40px] mr-4 rounded-[50%]`}\r\n                src={userInfo[0]?.profile_image_url?? \"images/미니프로필.png\"}\r\n                alt=\"미니프로필\"\r\n              ></img>\r\n              {/* <span>{username}의 게시글</span> */}\r\n              <span>{userName}</span>\r\n            </div>\r\n            {/* 갤러리 본문 요소 */}\r\n            <div className={`h-[42.5%] flex border-b-[2px] border-gray-200`}>\r\n              {/* 갤러리 본문 프로필 */}\r\n              <div className={`w-[15%] flex justify-center mt-4`}>\r\n                {/* 갤러리 본문 프로필 요소 */}\r\n                <img\r\n                  className={`w-[40px] h-[40px] rounded-[50%]`}\r\n                  src={userInfo[0]?.profile_image_url ?? `images/미니프로필.png`}\r\n                  alt=\"미니프로필\"\r\n                ></img>\r\n              </div>\r\n              {/* 갤러리 본문 내용 및 태그 영역 */}\r\n              <div className={`w-[85%]`}>\r\n                {/* 갤러리 본문 내용 */}\r\n                <div\r\n                  className={`h-[80%] flex flex-col justify-center`}\r\n                >\r\n                  <input \r\n                    type=\"text\" \r\n                    placeholder=\"제목을 입력하세요\" \r\n                    className={`flex justify-start my-2 mt-6 outline-none text-[1.2rem] font-bold`}\r\n                    value={titleText}\r\n                    onChange={(e)=> {setTitleText(e.target.value); }}\r\n                  ></input>\r\n                  <textarea\r\n                    className=\"w-full h-[90%] resize-none outline-none pb-0\" \r\n                    placeholder=\"글을 입력하세요\"\r\n                    value={postText}\r\n                    onChange={(e) => {setPostText(e.target.value); }}\r\n                  ></textarea>\r\n                </div>\r\n                {/* 갤러리 본문 태그 */}\r\n                <div className={`h-[20%] flex  items-center`}>\r\n                  <TagManager\r\n                    tags={tags}\r\n                    setTags={setTags}\r\n                    showInput={showInput}\r\n                    setShowInput={setShowInput}\r\n                    currentTag={currentTag}\r\n                    setCurrentTag={setCurrentTag}\r\n                    editingIndex={editingIndex}\r\n                    setEditingIndex={setEditingIndex}\r\n                    editingTag={editingTag}\r\n                    setEditingTag={setEditingTag}\r\n                    handleAddTag={handleAddTag}\r\n                    handleEditTag={handleEditTag}\r\n                    handleDeleteTag={handleDeleteTag}\r\n                    handleKeyPress={handleKeyPress}\r\n                  />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            {/* 갤러리 아이콘 영역 */}\r\n            <div\r\n              className={`h-[40%] p-4 font-sans font-bold text-[0.8rem] border-b-[2px] border-gray-200`}\r\n            >\r\n              <div className=\"text-xl \">{imageAddress[currentImageIndex] ? imageAddress[currentImageIndex] : \"위치\"}</div>\r\n            </div>\r\n            {/* 갤러리 댓글 입력창 */}\r\n            <div className={`h-[7.5%] flex`}>\r\n              {/* 갤러리 댓글 인풋 영역 */}\r\n              <div\r\n                className={`resize-none outline-none w-[85%] h-full pt-4 pl-4 `}\r\n              ></div>\r\n              {/* 게시물 댓글 게시버튼 */}\r\n              <div\r\n                onClick={handleSubmitPost}\r\n                className={`w-[15%] flex justify-center items-center text-blue-500 hover:font-bold cursor-pointer`}\r\n              >\r\n                공유하기\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}