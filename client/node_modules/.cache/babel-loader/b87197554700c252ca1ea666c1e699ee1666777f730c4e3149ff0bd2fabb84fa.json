{"ast":null,"code":"var _jsxFileName = \"C:\\\\git\\\\project\\\\client\\\\src\\\\componant\\\\routes\\\\googleRedirectPage.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useRef } from \"react\";\nimport { useSearchParams } from \"react-router-dom\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function GoogleRedirectPage() {\n  _s();\n  const [searchParams] = useSearchParams();\n  const calledRef = useRef(false);\n  useEffect(() => {\n    //URL에서 code 추출\n    const code = searchParams.get('code');\n    console.log('구글에서 받은 code : ', code);\n    if (code && !calledRef.current) {\n      calledRef.current = true;\n      const getToken = async () => {\n        try {\n          const response = await axios.post('http://localhost:5000/auth/google/token', {\n            code: code // code를 백엔드로 전달\n          });\n          console.log(\"구글 토큰 응답:\", response.data.token);\n          localStorage.setItem(\"token\", response.data.token);\n          window.location.href = '/home';\n        } catch (error) {\n          console.log(\"구글 토큰 요청 실패:\", error);\n        }\n      };\n      getToken();\n    }\n  }, [searchParams]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"\\uAD6C\\uAE00 \\uB85C\\uADF8\\uC778 \\uC911...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(GoogleRedirectPage, \"bZyRXKeZTS4SeINRM/KFe3ouiJ8=\", false, function () {\n  return [useSearchParams];\n});\n_c = GoogleRedirectPage;\nvar _c;\n$RefreshReg$(_c, \"GoogleRedirectPage\");","map":{"version":3,"names":["useEffect","useRef","useSearchParams","axios","jsxDEV","_jsxDEV","Fragment","_Fragment","GoogleRedirectPage","_s","searchParams","calledRef","code","get","console","log","current","getToken","response","post","data","token","localStorage","setItem","window","location","href","error","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/git/project/client/src/componant/routes/googleRedirectPage.js"],"sourcesContent":["import { useEffect, useRef } from \"react\";\r\nimport { useSearchParams } from \"react-router-dom\";\r\nimport axios from 'axios';\r\n\r\nexport default function GoogleRedirectPage(){\r\n    const [searchParams] = useSearchParams();\r\n    const calledRef = useRef(false);\r\n\r\n    useEffect(()=> {\r\n        //URL에서 code 추출\r\n        const code = searchParams.get('code')\r\n        console.log('구글에서 받은 code : ', code);\r\n\r\n        if(code && !calledRef.current){\r\n            calledRef.current = true;\r\n            const getToken = async () => {\r\n                try{\r\n                    const response = await axios.post('http://localhost:5000/auth/google/token',{\r\n                        code:code // code를 백엔드로 전달\r\n                    });\r\n                    console.log(\"구글 토큰 응답:\", response.data.token);\r\n                    localStorage.setItem(\"token\", response.data.token);\r\n                    window.location.href = '/home';\r\n                }catch(error){\r\n                    console.log(\"구글 토큰 요청 실패:\", error);\r\n                }\r\n            };\r\n            getToken();\r\n        }\r\n    }, [searchParams])\r\n\r\n    return (\r\n        <>\r\n            <div>구글 로그인 중...</div>\r\n        </>\r\n    )\r\n}"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,MAAM,QAAQ,OAAO;AACzC,SAASC,eAAe,QAAQ,kBAAkB;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE1B,eAAe,SAASC,kBAAkBA,CAAA,EAAE;EAAAC,EAAA;EACxC,MAAM,CAACC,YAAY,CAAC,GAAGR,eAAe,CAAC,CAAC;EACxC,MAAMS,SAAS,GAAGV,MAAM,CAAC,KAAK,CAAC;EAE/BD,SAAS,CAAC,MAAK;IACX;IACA,MAAMY,IAAI,GAAGF,YAAY,CAACG,GAAG,CAAC,MAAM,CAAC;IACrCC,OAAO,CAACC,GAAG,CAAC,iBAAiB,EAAEH,IAAI,CAAC;IAEpC,IAAGA,IAAI,IAAI,CAACD,SAAS,CAACK,OAAO,EAAC;MAC1BL,SAAS,CAACK,OAAO,GAAG,IAAI;MACxB,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;QACzB,IAAG;UACC,MAAMC,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,yCAAyC,EAAC;YACxEP,IAAI,EAACA,IAAI,CAAC;UACd,CAAC,CAAC;UACFE,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEG,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;UAC7CC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEL,QAAQ,CAACE,IAAI,CAACC,KAAK,CAAC;UAClDG,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,OAAO;QAClC,CAAC,QAAMC,KAAK,EAAC;UACTb,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEY,KAAK,CAAC;QACtC;MACJ,CAAC;MACDV,QAAQ,CAAC,CAAC;IACd;EACJ,CAAC,EAAE,CAACP,YAAY,CAAC,CAAC;EAElB,oBACIL,OAAA,CAAAE,SAAA;IAAAqB,QAAA,eACIvB,OAAA;MAAAuB,QAAA,EAAK;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK;EAAC,gBACxB,CAAC;AAEX;AAACvB,EAAA,CAhCuBD,kBAAkB;EAAA,QACfN,eAAe;AAAA;AAAA+B,EAAA,GADlBzB,kBAAkB;AAAA,IAAAyB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}